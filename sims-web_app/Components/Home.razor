@page "/"
@attribute [Authorize]
@using Blazored.SessionStorage
@using Microsoft.AspNetCore.Authorization
@using sims_web_app.Services
@using sims_web_app.Data.Model
@inject ISessionStorageService SessionStorage
@inject NavigationManager Nav
@inject ISnackbar Snackbar
@inject AuthApiHandler AuthApiHandler



<PageTitle>SIMS Home</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">SIMS HOME</MudText>
<MudText Typo="Typo.h2" GutterBottom="true">Welcome @FullName</MudText>

@code {
    private string FullName = "";

    protected override async Task OnInitializedAsync()
    {
        UserDTO usr = await AuthApiHandler.GetCurrentUser();

        FullName = usr.fullName;
    }
   
}